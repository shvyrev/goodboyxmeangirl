/** * SWFAddress 2.2: Deep linking for Flash and Ajax <http://www.asual.com/swfaddress/> * * SWFAddress is (c) 2006-2008 Rostislav Hristov and contributors * This software is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> * * Uses code from SWFObject 2.0 <http://code.google.com/p/swfobject/> * SWFObject is (c) 2007-2008 Geoff Stearns, Michael Williams, and Bobby van der Sluis * */if(typeof asual=="undefined"){asual={};}if(typeof asual.swfaddress=="undefined"){asual.swfaddress={};}asual.swfaddress.SWFAddressOptimizer=new function(){var _1="object",_2="ShockwaveFlash.ShockwaveFlash",_3="undefined",_4=location.href.indexOf("#"),_5,_6={};var _7=function(_8){var rv=_8.toString().split(".");for(var i=0;i<3;i++){rv[i]=typeof rv[i]!=_3?parseInt(rv[i]):0;}var pv=[0,0,0];var d=null;if(typeof navigator.plugins!=_3&&typeof navigator.plugins["Shockwave Flash"]==_1){d=navigator.plugins["Shockwave Flash"].description;if(d){d=d.replace(/^.*\s+(\S+\s+\S+$)/,"$1");pv[0]=parseInt(d.replace(/^(.*)\..*$/,"$1"),10);pv[1]=parseInt(d.replace(/^.*\.(.*)\s.*$/,"$1"),10);pv[2]=/r/.test(d)?parseInt(d.replace(/^.*r(.*)$/,"$1"),10):0;}}else{if(typeof window.ActiveXObject!=_3){var a=null;var _e=false;try{a=new ActiveXObject(_2+".7");}catch(e){try{a=new ActiveXObject(_2+".6");pv=[6,0,21];a.AllowScriptAccess="always";}catch(e){if(pv[0]==6){_e=true;}}if(!_e){try{a=new ActiveXObject(_2);}catch(e){}}}if(!_e&&typeof a==_1){try{d=a.GetVariable("$version");if(d){d=d.split(" ")[1].split(",");pv=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)];}}catch(e){}}}}return (pv[0]>rv[0]||(pv[0]==rv[0]&&pv[1]>rv[1])||(pv[0]==rv[0]&&pv[1]==rv[1]&&pv[2]>=rv[2]))?true:false;};var _f=function(_10,_11){var _12=location.href.split(location.hostname)[1].replace(_11,"");if(_10!="/"&&(_4==-1||_4==location.href.length-1)&&(_12!=""&&_12!="/")){var xhr;if(window.XMLHttpRequest){xhr=new XMLHttpRequest();}else{if(window.ActiveXObject){try{try{xhr=new ActiveXObject("Msxml2.XMLHTTP");}catch(e){xhr=new ActiveXObject("Microsoft.XMLHTTP");}}catch(e){}}}if(xhr){xhr.open("get",((typeof _11!=_3)?_11:"")+"/?"+_10,false);xhr.setRequestHeader("Content-Type","application/x-swfaddress");xhr.send("");eval(xhr.responseText);}}};var _14=function(el){for(var i=0,l=el.childNodes.length,s;i<l;i++){if(el.childNodes[i].src){_5=String(el.childNodes[i].src);}_14(el.childNodes[i]);}};_14(document);var qi=_5.indexOf("?");if(_5&&qi>-1){var _1a,_1b=_5.substr(qi+1).split("&");for(var i=0,p;p=_1b[i];i++){_1a=p.split("=");if(/^(flash|base|swfaddress)$/.test(_1a[0])){_6[_1a[0]]=unescape(_1a[1]);}}}if(typeof _6.flash!=_3){if(_7(_6.flash)){_f(_6.swfaddress,_6.base);}else{if(_4!=-1){location.replace(location.href.replace(/#(\/)?/,""));}}}else{_f(_6.swfaddress,_6.base);}this.toString=function(){return "[class SWFAddressOptimizer]";};};