/** *  * Twin Text Module *  * @author Richard Rodney * @version 0.1 */package railk.as3.motion.modules {	import flash.geom.ColorTransform;	import railk.as3.motion.utils.Prop;	public class TextModule {		static public function update( target:Object, props:Prop, ratio:Number ):Prop {			if( props.prop == 'text') target.text = props.current = text( ratio, props.start, props.end );			else if ( props.prop == 'textColor') target.textColor = props.current = color( ratio, props.start, props.end );			return props;		}				static private function color( r:Number, b:uint, e:uint ):uint {			var q:Number=1-r;			return  (((b>>24)&0xFF)*q+((e>>24)&0xFF)*r)<<24|(((b>>16)&0xFF)*q+((e>>16)&0xFF)*r)<<16|(((b>>8)&0xFF)*q+((e>>8)&0xFF)*r)<<8|(b&0xFF)*q+(e&0xFF)*r;		}				static private function text( r:Number, b:String, e:String  ):String {			var i:int, mxL:int= ((b.length > e.length)?b.length:e.length), x:Number= 1/mxL, ind:int= int(r/x), curL:Array= [], nxtL:Array= [], reg:RegExp= new RegExp(',', 'g');			for (i=0;i<e.length;++i) nxtL.push(e.charAt(i));			for (i=0;i<b.length;++i) curL.push(b.charAt(i));			for (i=0; i < ind;++i) curL[i] = (nxtL[i])?nxtL[i]:'';			return curL.toString().replace(reg, '');		}	}}