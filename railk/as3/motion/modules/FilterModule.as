/** *  * Twin Filter Module *  * @author Richard Rodney * @version 0.1 */package railk.as3.motion.modules {	import flash.filters.BitmapFilter;	import flash.utils.getQualifiedClassName;	import flash.utils.getDefinitionByName;	import railk.as3.motion.utils.Prop;		public class FilterModule {		static public function update( target:Object, props:Prop, r:Number ):Prop {			var filters:Array = target.filters, b:BitmapFilter=props.start, e:Object=props.end;			for ( var p:String in e) b[p] = b[p]+(e[p]-b[p])*r;			for (var i:int=0; i<filters.length; i++) if (filters[i].toString() == getQualifiedClassName(b)) filters.splice(i, 1);			filters.push( b );			target.filters = filters;			return props;		}				static public function init( target:Object, filter:String, props:Object ):BitmapFilter {			var i:int= target.filters.length, classe:Class = getDefinitionByName('flash.filters::'+filter) as Class;			while( --i > -1 ) if (target.filters[i] is classe) return target.filters[i];			var f:BitmapFilter = new (classe)();			for ( var p:String in props ) f[p] = 0;			return f;		}	}}